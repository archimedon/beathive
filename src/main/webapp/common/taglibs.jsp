<%@ page language="java" errorPage="/error.jsp" pageEncoding="UTF-8" contentType="text/html;charset=utf-8" %><%@ taglib uri="http://www.springframework.org/security/tags" prefix="security" %><%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %><%@ taglib uri="http://struts.apache.org/tags-tiles-el" prefix="tiles" %><%@ taglib uri="http://struts.apache.org/tags-bean-el" prefix="bean-el" %><%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %><%@ taglib uri="http://struts.apache.org/tags-html-el" prefix="html-el" %><%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %><%@ taglib uri="http://struts.apache.org/tags-logic-el" prefix="logic-el" %><%@ taglib uri="http://struts.apache.org/tags-nested" prefix="nested" %><%@ taglib uri="http://displaytag.sf.net" prefix="display" %><%@ taglib uri="http://struts-menu.sf.net/tag-el" prefix="menu" %><%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %><%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %><%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %><%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %><%@ taglib uri="http://www.opensymphony.com/oscache" prefix="cache" %><%@ taglib uri="http://www.opensymphony.com/sitemesh/decorator" prefix="decorator"%><%@ taglib uri="http://www.opensymphony.com/sitemesh/page" prefix="page"%><%@ taglib uri="/WEB-INF/beathive2.tld" prefix="beathive2" %><%-- Set all pages that include this page to use XHTML --%><html:xhtml />
<c:set var="isMember" scope="request" value="${false}"/><security:authorize ifAnyGranted="admin,producer,user">       
<c:set var="username" scope="request"><security:authentication property="principal.username"/></c:set>
<c:set var="uid" scope="request"><security:authentication property="principal.id"/></c:set>
<c:set var="isMember" scope="request" value="${true}"/>
<security:authorize ifAnyGranted="admin"><c:set var="isAdmin" value="${true}" scope="request"/></security:authorize></security:authorize>